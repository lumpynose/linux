
=============================================
for hp stream
same as arch-surface2-notes.txt except in it replace
nvme0n1p with mmcblk0p
and to start gdisk replace
nvme0n1 with mmcblk0.
==============================================
// The pound sign is root's prompt; type or copy+paste whatever's after it.
// Lines flush left after a root prompt line you copy and paste or type.
// Stuff after // are comments

// Verify network is working
  # ip addr

  # passwd root
secret

  # systemctl start sshd.service

// Now connect to system with putty.

  # timedatectl set-ntp true

// Get list of disks.
  # lsblk

  # gdisk /dev/nvme0n1
o // wipes partition table
n return, +260M, ef00 // efi partition
n return, return, return // 8300, linux partition
w

  # mkfs.fat -F32 /dev/nvme0n1p1
  # mkfs.ext4 /dev/nvme0n1p2

  # mount /dev/nvme0n1p2 /mnt
  # mkdir /mnt/boot
  # mount /dev/nvme0n1p1 /mnt/boot

  # dd if=/dev/zero of=/mnt/swapfile bs=1M count=512 status=progress
  # chmod 600 /mnt/swapfile
  # mkswap /mnt/swapfile
  # swapon /mnt/swapfile

  # pacstrap /mnt base linux linux-firmware

  # genfstab -U /mnt >> /mnt/etc/fstab

// Add/fix swap file to fstab if not there (genfstab added it):
  # emacs /mnt/etc/fstab
/swapfile none swap defaults 0 0

  # arch-chroot /mnt

  # pacman -S emacs-nox vim emacs hwinfo e2fsprogs dosfstools man-db man-pages
  # pacman -S texinfo upower acpi grub efibootmgr intel-ucode
  # pacman -S wpa_supplicant dhcpcd systemd-resolvconf ntp openssh iproute2
// Choose systemd-resolvconf if asked?

  # ln -sf /usr/share/zoneinfo/US/Pacific /etc/localtime
  # hwclock --systohc

// Uncomment two lines for en_US
  # emacs /etc/locale.gen

// Generate local files
  # locale-gen

// Edit /etc/locale.conf and add LANG=en_US.UTF-8
  # emacs /etc/locale.conf
LANG=en_US.UTF-8

// Edit /etc/vconsole.conf and add FONT=latarcyrheb-sun32 for a bigger console font
// and add KEYMAP.
  # emacs /etc/vconsole.conf
KEYMAP=en-latin1
FONT=latarcyrheb-sun32

// Edit /etc/hostname and add archlinux.objecteffects.com
  # emacs /etc/hostname
archlinux.objecteffects.com

// Edit /etc/hosts and add localhost and this machine.
  # emacs /etc/hosts
127.0.0.1	localhost
::1		localhost
127.0.0.1	archlinux.objecteffects.com archlinux

  # grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB
  # grub-mkconfig -o /boot/grub/grub.cfg

// Edit sshd_config and add root login
  # emacs /etc/ssh/sshd_config
PermitRootLogin yes

  # passwd root
  secret

  # systemctl enable sshd.service
  # systemctl enable systemd-resolved.service
  # systemctl enable systemd-networkd.service
  # hp systemctl enable wpa_supplicant@wlan0.service
  # surface systemctl enable wpa_supplicant@wlp1s0.service

// set up wpa_cli and to allow wpa_supplicant to edit the
// config file.
  # emacs /etc/wpa_supplicant/wpa_supplicant.conf
ctrl_interface=/run/wpa_supplicant
update_config=1
  # wpa_supplicant -B -i interface -c /etc/wpa_supplicant/wpa_supplicant.conf
  # wpa_cli
scan
scan-results
add_network
set_network ssid "my ssid"
set_network 0 psk "my wifi passphrase"
enable_network 0
save_config
quit

  # emacs /etc/systemd/network/20-wired.network 
[Match]
hp Name=enp0s20u1
surface Name=enp0s20f0u1u2

[Network]
DHCP=yes

[DHCP]
RouteMetric=10

  # emacs /etc/systemd/network/25-wireless.network 
[Match]
hp Name=wlan0
surface Name=wlp1s0

[Network]
DHCP=yes

[DHCP]
RouteMetric=20

  # exit
  # umount /mnt/boot
  # swapoff /mnt/swapfile
  # umount /mnt

  # reboot


// Wheel needed for su permission.
  # useradd -m -G users,wheel rusty

// Random stuff

// Update weekly: pacman -Syu
// Check for orphaned packages: pacman -Qtd
// Check for failed services: systemctl --failed
// Check for errors in the log files: journalctl -p 3 -xb

// ethernet: enp0s20f0u1u2
// display: 1920x1280@60Hz
// display: 800x600x32
// grub command videoinfo
// grub command vbeinfo

// ipup
// dhcpcd
// systemctl start sshd
